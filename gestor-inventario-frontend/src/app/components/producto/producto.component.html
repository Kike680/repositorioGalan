<form [formGroup]="productoForm" (ngSubmit)="onSubmit()" class="container mt-5 p-4 border rounded shadow">
  <h2 class="text-center mb-4">Crear Producto</h2>

  <div class="mb-3">
    <label for="nombre" class="form-label">Nombre</label>
    <input id="nombre" formControlName="nombre" class="form-control">
  </div>

  <div class="mb-3">
    <label for="descripcion" class="form-label">Descripción</label>
    <input id="descripcion" formControlName="descripcion" class="form-control">
  </div>

  <div class="mb-3">
    <label for="precio" class="form-label">Precio</label>
    <input id="precio" formControlName="precio" type="number" class="form-control">
  </div>

  <div class="mb-3">
    <label for="cantidad" class="form-label">Cantidad</label>
    <input id="cantidad" formControlName="cantidad" type="number" class="form-control">
  </div>

  <div class="mb-3">
    <label for="categoria" class="form-label">Categoría</label>
    <select id="categoria" formControlName="categoria" class="form-control">
      @for (categoria of categorias; track categorias) {
        <option [value]="categoria.id">{{ categoria.nombre }}</option>
      }
    </select>
  </div>

  <div class="mb-3">
    <h4 class="text-center">Convertir Imagen a Base64</h4>
    <input type="file" (change)="onFileSelected($event)" class="form-control" />
    @if (base64Image) {
      <div class="mt-3 text-center">
        <img [src]="base64Image" alt="Imagen convertida a Base64" class="img-fluid img-thumbnail" />
      </div>
    }
  </div>

  <input type="text" [value]="base64Image" formControlName="imagen" name="imagen" hidden>

  <button type="submit" class="btn btn-primary w-100">Crear Producto</button>
</form>

<button class="btn btn-success mt-3 w-100" (click)="goBack()">Volver Atrás</button>
